<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      function draw() {
        const str = decodeURI(location.href.split("?str=")[1])
          .replaceAll("\\n", "\n")
          .split("\n");
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext("2d");
        ctx.font = "14pt 나눔고딕";

        str.forEach((e, i) => ctx.fillText(e, 16, 28 * (i + 1)));
        const dataUrl = canvas.toDataURL();
        document.querySelector("#preview").src = dataUrl;
        $("meta[property='og\\:image']").attr(
          "content",
          "https://firebasestorage.googleapis.com/v0/b/edcan-edu.appspot.com/o/picture%2F67mg66W06rOgIOunm%2ByeiOqyjCDrqLnslrTrs7TsnpAgQW5kcm9pZCBTbmFjayE%3D.png?alt=media&token=4d854c7e-7a05-4a10-a69a-ab801b4b7ea4"
        );
      }

      document.addEventListener("DOMContentLoaded", draw);
    </script>
    <!-- <meta
      property="og:image"
      content="https://firebasestorage.googleapis.com/v0/b/edcan-edu.appspot.com/o/picture%2F67mg66W06rOgIOunm%2ByeiOqyjCDrqLnslrTrs7TsnpAgQW5kcm9pZCBTbmFjayE%3D.png?alt=media&token=4d854c7e-7a05-4a10-a69a-ab801b4b7ea4"
    />
    <meta property="og:image:width" content="360" />
    <meta property="og:image:height" content="240" /> -->
  </head>
  <body>
    <img id="preview" />
    <canvas id="canvas" width="360" height="240" style="display: none"></canvas>
  </body>
</html>
